<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='一、复合类型有哪些 Pointer 指针 Array 数组 Slice 切片 Map 哈希表 Struct 结构体 Interface 接口 Channel 通道 func 函数类型
二、指针 指针是一个代表着某个内存地址值的数据类型，这个内存地址往往是在内存中存储的另一个变量的值的起始位置。 每个变量有2层含义：变量的内容，变量的地址。
2.1 指针最基本的操作 2.1.1 Golang指针的特点 1.默认值为 nil。 2.操作符 &amp;amp; 取变量的地址，* 操作内存地址中的内容（值）。 3.不支持指针运算，使用 . 访问目标成员。
2.1.2 基本例子 定义指针类型的语法：var 变量名 *数据类型。星号千万不要忘了，不然就是一个普通的数据类型，而不是指针类型！ 取出内存地址的值，赋值给指针类型的语法：指针的变量 = &amp;amp;变量名。这步操作就是让指针指向合法内存地址。&amp;amp;不要忘了*，不然就是普通的值赋值给指针类型，两者数据类型不匹配肯定报错！
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 func main() { var a = 10 fmt.'>
<title>Golang学习之复合类型</title>

<link rel='canonical' href='https://360rce.github.io/p/wknjbadw/'>

<link rel="stylesheet" href="/scss/style.min.efe1e773d779dbe0d478a3345bc5ad949fed81363c53bfa8984135f20bf7841d.css"><meta property='og:title' content='Golang学习之复合类型'>
<meta property='og:description' content='一、复合类型有哪些 Pointer 指针 Array 数组 Slice 切片 Map 哈希表 Struct 结构体 Interface 接口 Channel 通道 func 函数类型
二、指针 指针是一个代表着某个内存地址值的数据类型，这个内存地址往往是在内存中存储的另一个变量的值的起始位置。 每个变量有2层含义：变量的内容，变量的地址。
2.1 指针最基本的操作 2.1.1 Golang指针的特点 1.默认值为 nil。 2.操作符 &amp;amp; 取变量的地址，* 操作内存地址中的内容（值）。 3.不支持指针运算，使用 . 访问目标成员。
2.1.2 基本例子 定义指针类型的语法：var 变量名 *数据类型。星号千万不要忘了，不然就是一个普通的数据类型，而不是指针类型！ 取出内存地址的值，赋值给指针类型的语法：指针的变量 = &amp;amp;变量名。这步操作就是让指针指向合法内存地址。&amp;amp;不要忘了*，不然就是普通的值赋值给指针类型，两者数据类型不匹配肯定报错！
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 func main() { var a = 10 fmt.'>
<meta property='og:url' content='https://360rce.github.io/p/wknjbadw/'>
<meta property='og:site_name' content='iceH&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Golang' /><meta property='article:published_time' content='2021-01-07T18:47:12&#43;00:00'/><meta property='article:modified_time' content='2021-01-07T18:47:12&#43;00:00'/><meta property='og:image' content='https://w.wallhaven.cc/full/zy/wallhaven-zy9gwv.png' />
<meta name="twitter:title" content="Golang学习之复合类型">
<meta name="twitter:description" content="一、复合类型有哪些 Pointer 指针 Array 数组 Slice 切片 Map 哈希表 Struct 结构体 Interface 接口 Channel 通道 func 函数类型
二、指针 指针是一个代表着某个内存地址值的数据类型，这个内存地址往往是在内存中存储的另一个变量的值的起始位置。 每个变量有2层含义：变量的内容，变量的地址。
2.1 指针最基本的操作 2.1.1 Golang指针的特点 1.默认值为 nil。 2.操作符 &amp;amp; 取变量的地址，* 操作内存地址中的内容（值）。 3.不支持指针运算，使用 . 访问目标成员。
2.1.2 基本例子 定义指针类型的语法：var 变量名 *数据类型。星号千万不要忘了，不然就是一个普通的数据类型，而不是指针类型！ 取出内存地址的值，赋值给指针类型的语法：指针的变量 = &amp;amp;变量名。这步操作就是让指针指向合法内存地址。&amp;amp;不要忘了*，不然就是普通的值赋值给指针类型，两者数据类型不匹配肯定报错！
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 func main() { var a = 10 fmt."><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://w.wallhaven.cc/full/zy/wallhaven-zy9gwv.png' />
    <link rel="shortcut icon" href="/favicon.ico" />
<style>
    :root {
     
    --sys-font-family: "HarmonyOS_Sans_SC_Medium", Georgia, -apple-system, 'Nimbus Roman No9 L', 'PingFang SC', 'Hiragino Sans GB', 'Noto Serif SC', 'Microsoft Yahei', 'WenQuanYi Micro Hei', 'ST Heiti', sans-serif;
    --code-font-family: "JetBrainsMono Regular", Menlo, Monaco, Consolas, "Courier New";
    --article-font-family: "HarmonyOS_Sans_SC_Medium", var(--base-font-family);
  }
</style>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://npm.elemecdn.com/irithys-cdn@1.0.4/font/font.css";
        customFont.type = "text/css";
        customFont.rel = "stylesheet";
         document.head.appendChild(customFont);
}());
</script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended">


        <div id="article-toolbar" style="position: sticky;top: 5px;z-index: 1000;">
            <a href="/" class="back-home">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



                <span>返回</span>
            </a>
        </div>
    

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" stroke="currentColor" fill="#BDBDBF"><path d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM176 168V344C176 352.7 180.7 360.7 188.3 364.9C195.8 369.2 205.1 369 212.5 364.5L356.5 276.5C363.6 272.1 368 264.4 368 256C368 247.6 363.6 239.9 356.5 235.5L212.5 147.5C205.1 142.1 195.8 142.8 188.3 147.1C180.7 151.3 176 159.3 176 168V168z"></path></svg>
            
        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#一复合类型有哪些">一、复合类型有哪些</a></li>
    <li><a href="#二指针">二、指针</a>
      <ol>
        <li><a href="#21-指针最基本的操作">2.1 指针最基本的操作</a>
          <ol>
            <li><a href="#211-golang指针的特点">2.1.1 Golang指针的特点</a></li>
            <li><a href="#212-基本例子">2.1.2 基本例子</a></li>
            <li><a href="#213-一些说明">2.1.3 一些说明</a></li>
          </ol>
        </li>
        <li><a href="#22-new函数的使用">2.2 new()函数的使用</a></li>
        <li><a href="#23-值传递">2.3 值传递</a></li>
        <li><a href="#24-使用指针进行地址传递">2.4 使用指针进行地址传递</a></li>
      </ol>
    </li>
    <li><a href="#三数组">三、数组</a>
      <ol>
        <li><a href="#31-声明语法">3.1 声明语法</a></li>
        <li><a href="#32-初始化数组">3.2 初始化数组</a>
          <ol>
            <li><a href="#321-传统写法">3.2.1 传统写法</a></li>
            <li><a href="#322-部分初始化">3.2.2 部分初始化</a></li>
            <li><a href="#323-省略号--出现在数组长度的位置">3.2.3 省略号 <code>...</code> 出现在数组长度的位置</a></li>
            <li><a href="#324-指定下标初始化">3.2.4 指定下标初始化</a></li>
            <li><a href="#325-综合示例">3.2.5 综合示例</a></li>
            <li><a href="#326-小技巧">3.2.6 小技巧</a></li>
          </ol>
        </li>
        <li><a href="#33-二维数组">3.3 二维数组</a></li>
        <li><a href="#34-数组比较和赋值">3.4 数组比较和赋值</a>
          <ol>
            <li><a href="#341-数组比较的原则">3.4.1 数组比较的原则</a></li>
            <li><a href="#342-数组比较的示例">3.4.2 数组比较的示例</a></li>
            <li><a href="#343-数组相互赋值">3.4.3 数组相互赋值</a></li>
            <li><a href="#344-注意事项">3.4.4 注意事项</a></li>
          </ol>
        </li>
        <li><a href="#35-数组做函数参数值传递值拷贝">3.5 数组做函数参数，值传递（值拷贝）</a></li>
        <li><a href="#36-数组做函数参数引用传递传址">3.6 数组做函数参数，引用传递（传址）</a></li>
      </ol>
    </li>
    <li><a href="#四slice-切片">四、<code>Slice</code> 切片</a>
      <ol>
        <li><a href="#41-切片初始化">4.1 切片初始化</a></li>
        <li><a href="#42-基本示例">4.2 基本示例</a></li>
        <li><a href="#43-切片截取">4.3 切片截取</a></li>
        <li><a href="#44-append-函数">4.4 <code>append()</code> 函数</a></li>
        <li><a href="#45-copy-函数">4.5 <code>copy()</code> 函数</a></li>
        <li><a href="#46-切片作为函数参数是引用传递传址">4.6 切片作为函数参数是引用传递(传址)</a></li>
        <li><a href="#47-slice-只允许和-nil-做比较">4.7 slice 只允许和 <code>nil</code> 做比较</a>
          <ol>
            <li><a href="#471-nil-表示没有内存空间">4.7.1 <code>nil</code> 表示没有内存空间</a></li>
            <li><a href="#472-这些情况下slice-的值为-nil">4.7.2 这些情况下，slice 的值为 <code>nil</code></a></li>
          </ol>
        </li>
        <li><a href="#48-对-slice-进行截取时起始下标刚好等于长度">4.8 对 <code>Slice</code> 进行截取时，起始下标刚好等于长度</a></li>
        <li><a href="#49-切片与数组的区别和关系">4.9 切片与数组的区别和关系</a>
          <ol>
            <li><a href="#491-区别长度">4.9.1 区别：长度</a></li>
            <li><a href="#492-区别做函数调用时">4.9.2 区别：做函数调用时</a></li>
            <li><a href="#493-区别只有-slice-可以使用-append-函数">4.9.3 区别：只有 <code>Slice</code> 可以使用 <code>append()</code> 函数</a></li>
            <li><a href="#494-关系切片是对底层数组的引用">4.9.4 关系：切片是对底层数组的引用</a></li>
          </ol>
        </li>
        <li><a href="#410-语法糖-">4.10 语法糖 <code>...</code></a>
          <ol>
            <li><a href="#4101-作为函数的不定长参数">4.10.1 作为函数的不定长参数</a></li>
            <li><a href="#4102-打散切片">4.10.2 打散切片</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#五map">五、<code>map</code></a>
      <ol>
        <li><a href="#51-声明初始化-map">5.1 声明、初始化 <code>map</code></a>
          <ol>
            <li><a href="#511-mapkey数据类型value数据类型">5.1.1 <code>map[key数据类型]value数据类型</code></a></li>
            <li><a href="#512-make-函数">5.1.2 <code>make()</code> 函数</a></li>
            <li><a href="#513-初始化-map-的方式">5.1.3 初始化 <code>map</code> 的方式</a></li>
            <li><a href="#514-短变量初始化方式">5.1.4 短变量初始化方式</a></li>
          </ol>
        </li>
        <li><a href="#52-map遍历">5.2 map遍历</a></li>
        <li><a href="#53-判断key是否存在">5.3 判断key是否存在</a></li>
        <li><a href="#54-删除一对键值">5.4 删除一对键值</a></li>
        <li><a href="#55-map作为函数参数">5.5 map作为函数参数</a></li>
      </ol>
    </li>
    <li><a href="#六struct结构体">六、Struct结构体</a>
      <ol>
        <li><a href="#61-结构体的初始化">6.1 结构体的初始化</a>
          <ol>
            <li><a href="#611-普通变量">6.1.1 普通变量</a></li>
            <li><a href="#612-指针变量">6.1.2 指针变量</a></li>
          </ol>
        </li>
        <li><a href="#62-结构体成员的使用普通变量">6.2 结构体成员的使用：普通变量</a></li>
        <li><a href="#63-结构体成员的使用指针变量">6.3 结构体成员的使用：指针变量</a>
          <ol>
            <li><a href="#631-指针指向结构体普通变量的内存地址">6.3.1 指针指向结构体普通变量的内存地址</a></li>
            <li><a href="#632-new函数指向">6.3.2 new()函数指向</a></li>
          </ol>
        </li>
        <li><a href="#64-结构体比较">6.4 结构体比较</a></li>
        <li><a href="#65-结构体赋值">6.5 结构体赋值</a></li>
        <li><a href="#66-结构体做函数参数值传递">6.6 结构体做函数参数：值传递</a></li>
        <li><a href="#67-结构体做函数参数引用传递传址">6.7 结构体做函数参数：引用传递（传址）</a></li>
        <li><a href="#68-带标签的结构体">6.8 带标签的结构体</a></li>
      </ol>
    </li>
    <li><a href="#七可见性">七、可见性</a></li>
    <li><a href="#八关于-nil-的笔记">八、关于 <code>nil</code> 的笔记</a>
      <ol>
        <li><a href="#81-未显示声明的数据类型不能使用-nil">8.1 未显示声明的数据类型，不能使用 <code>nil</code></a></li>
        <li><a href="#82-slice-和-map-为-nil-时各自的区别">8.2 <code>Slice</code> 和 <code>map</code> 为 <code>nil</code> 时，各自的区别</a>
          <ol>
            <li><a href="#821-当-slice-为-nil-时">8.2.1 当 <code>Slice</code> 为 <code>nil</code> 时</a></li>
            <li><a href="#821-当-map-为-nil-时">8.2.1 当 <code>map</code> 为 <code>nil</code> 时</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#九小案例">九、小案例</a>
      <ol>
        <li><a href="#例1生成随机数">例1，生成随机数</a></li>
        <li><a href="#例2猜数字小游戏">例2，猜数字小游戏</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/wknjbadw/">
                
                    <img src="https://w.wallhaven.cc/full/zy/wallhaven-zy9gwv.png" loading="lazy" alt="Featured image of post Golang学习之复合类型" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E5%90%B9%E6%A2%A6%E5%88%B0%E8%A5%BF%E5%B7%9E/" >
                吹梦到西州
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/wknjbadw/">Golang学习之复合类型</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" stroke="currentColor" fill="#BDBDBF"><path d="M326.1 160l127.4-127.4C451.7 32.39 449.9 32 448 32h-86.06l-128 128H326.1zM166.1 160l128-128H201.9l-128 128H166.1zM497.7 56.19L393.9 160H512V96C512 80.87 506.5 67.15 497.7 56.19zM134.1 32H64C28.65 32 0 60.65 0 96v64h6.062L134.1 32zM0 416c0 35.35 28.65 64 64 64h384c35.35 0 64-28.65 64-64V192H0V416z"></path></svg>
                
                <time class="article-time--published">2021/01/07</time>
            </div>
        

        
            <div>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" stroke="currentColor" fill="#BDBDBF"><path d="M256 512C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"></path></svg>
                
                <time class="article-time--reading">
                    阅读时长: 28 分钟
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="一复合类型有哪些">一、复合类型有哪些</h2>
<p><code>Pointer</code> 指针
<code>Array</code> 数组
<code>Slice</code> 切片
<code>Map</code> 哈希表
<code>Struct</code> 结构体
<code>Interface</code> 接口
<code>Channel</code> 通道
<code>func</code> 函数类型</p>
<h2 id="二指针">二、指针</h2>
<p>指针是一个代表着某个内存地址值的数据类型，这个内存地址往往是在内存中存储的另一个变量的值的起始位置。
每个变量有2层含义：变量的内容，变量的地址。</p>
<h3 id="21-指针最基本的操作">2.1 指针最基本的操作</h3>
<h4 id="211-golang指针的特点">2.1.1 Golang指针的特点</h4>
<p>1.默认值为 <code>nil</code>。
2.操作符 <code>&amp;</code> 取变量的地址，<code>*</code> 操作内存地址中的内容（值）。
3.不支持指针运算，使用 <code>.</code> 访问目标成员。</p>
<h4 id="212-基本例子">2.1.2 基本例子</h4>
<p>定义指针类型的语法：<code>var 变量名 *数据类型</code>。<em><strong>星号千万不要忘了</strong>，不然就是一个普通的数据类型，而不是指针类型！
取出内存地址的值，赋值给指针类型的语法：<code>指针的变量 = &amp;变量名</code>。这步操作就是让指针指向合法内存地址。</em><em>&amp;不要忘了</em>*，不然就是普通的值赋值给指针类型，两者数据类型不匹配肯定报错！</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">a</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a=%d\n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>   <span class="c1">//这里是变量的内存，内存里的内容
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;&amp;a=%p\n&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">a</span><span class="p">)</span> <span class="c1">//内存外的标号，变量的地址，也叫指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//保存某个变量的地址，需要指针类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">p</span> <span class="o">*</span><span class="kt">int</span> <span class="c1">//保存int的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">p</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">a</span>     <span class="c1">//指针变量想要指向谁，就把它的地址赋值给指针变量。这里想要指向上面的变量a，就取出a的地址赋值给指针变量即可
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;p=%v, &amp;a=%v\n&#34;</span><span class="p">,</span> <span class="nx">p</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//p=0xc00000a0b8, &amp;a=0xc00000a0b8 值一样，因为：p就是保存了a的内存地址，&amp;a是取出a的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="o">*</span><span class="nx">p</span> <span class="p">=</span> <span class="mi">666</span>                           <span class="c1">//*p不是操作p的地址，而是操作p所指向的那个内存中的值。这里是给所指向的a赋值，就是操作a中的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;*p=%v, a=%v\n&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">p</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span> <span class="c1">//*p=666, a=666
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">a=10
</span></span></span><span class="line"><span class="cl"><span class="cm">&amp;a=0xc00000a0b8
</span></span></span><span class="line"><span class="cl"><span class="cm">p=0xc00000a0b8, &amp;a=0xc00000a0b8
</span></span></span><span class="line"><span class="cl"><span class="cm">*p=666, a=666
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>指针指向谁，就把谁的内存地址赋值给指针！指针一定要指向一个合法的内存地址！</strong></p>
<h4 id="213-一些说明">2.1.3 一些说明</h4>
<p>1.变量都存放在内存当中。
2.每个变量在内存中有一个标号，也就是变量的地址（内存地址），也叫指针。使用取地址符 <code>&amp;</code>，找到变量的标号（内存地址）。
3.想要保存这个标号（内存地址），就需要用到指针类型。
4.<strong>不要操作没有合法指向的内存</strong>。
错误示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">p</span> <span class="o">*</span><span class="kt">int</span> <span class="c1">//声明变量p为int指针类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//没有指向内存地址的时候，值为nil
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;p=&#34;</span><span class="p">,</span> <span class="nx">p</span><span class="p">)</span> <span class="c1">//p= &lt;nil&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="o">*</span><span class="nx">p</span> <span class="p">=</span> <span class="mi">666</span>
</span></span><span class="line"><span class="cl">	<span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">	panic: runtime error: invalid memory address or nil pointer dereference
</span></span></span><span class="line"><span class="cl"><span class="cm">	[signal 0xc0000005 code=0x1 addr=0x0 pc=0x49a833]
</span></span></span><span class="line"><span class="cl"><span class="cm">	无效的内存地址或nil指针引用
</span></span></span><span class="line"><span class="cl"><span class="cm">	*/</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>5.数据类型要一样！不要定义的指针变量是 int，但最终却指向了其他类型。
错误示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">p</span> <span class="o">*</span><span class="kt">float64</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">p</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">a</span> <span class="c1">//报错：cannot use &amp;a (type *int) as type *float64 in assignment ===&gt; 不能在分配中使用＆a（类型* int）作为类型* float64
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>6.操作指针所指向的变量时，不要忘了在前面带上星号 <code>*</code>，<code>*</code> 操作的是内存地址中的值。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">p</span> <span class="o">*</span><span class="kt">int</span> <span class="c1">//声明一个p变量，类型是int指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">p</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">a</span>  <span class="c1">//p保存了a的地址，内存地址是个指针类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">p</span> <span class="p">=</span> <span class="mi">111</span> <span class="c1">//p前面的星号不要忘了，否则就报错：cannot use 111 (type int) as type *int in assignment ===&gt; int类型不能赋值给指针类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a=%v, p=%v&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="22-new函数的使用">2.2 new()函数的使用</h3>
<p><code>new(Type)</code> 内置函数分配内存。<code>Type</code> 是一个具体写明的数据类型，而不是值。返回值是指向该类型新分配的零值的指针。
<code>new(Type)</code> 创建了一个匿名指针变量，为新值分配一块内存空间，其值为该类型的零值，然后将这块内存空间的地址作为结果返回。
之前的合法指向写法是声明一个变量和声明一个同类型的指针变量，然后将变量的内存地址赋值给指针变量，再把值赋值给带 <code>*</code> 的指针变量。<code>new(Type)</code> 是合法指向的另一种写法，指向一个没有名字的内存，实则是动态分配内存空间。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">p</span> <span class="o">*</span><span class="kt">int</span>   <span class="c1">//int指针类型，指向int类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">p</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="c1">//p指针类型指向的是一个int类型，所以new()小括号里也必须是同类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="o">*</span><span class="nx">p</span> <span class="p">=</span> <span class="mi">111</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;p=%v, *p=%v\n&#34;</span><span class="p">,</span> <span class="nx">p</span><span class="p">,</span> <span class="o">*</span><span class="nx">p</span><span class="p">)</span> <span class="c1">//p=0xc000062090, *p=111
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">n</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span> <span class="c1">//自动推导类型，省略了声明的步骤，new(type)返回这个类型的零值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="o">*</span><span class="nx">n</span> <span class="p">=</span> <span class="s">&#34;abce&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;n=%v, *n=%v\n&#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">,</span> <span class="o">*</span><span class="nx">n</span><span class="p">)</span> <span class="c1">//n=0xc0000341f0, *n=abce
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="23-值传递">2.3 值传递</h3>
<p>值传递，把值拷贝一份过去，传递的是该值的副本，自身是不会被改变的。
Golang 中，除了 <code>map</code>、<code>slice</code>、<code>chan</code>，其他都是值传递。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">swap</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="p">=</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">a</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;swap: a=%v, b=%v\n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="c1">//swap: a=20, b=10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//swap里面a,b交换了
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="o">:=</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">	<span class="nf">swap</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>                             <span class="c1">//站在变量的角度，变量本身传递过去是属于值传递
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;main: a=%v, b=%v\n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="c1">//main: a=10, b=20
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//main里面依然没有交换
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>main() 中，a, b 是整型，传递的时候属于值传递。</p>
<h3 id="24-使用指针进行地址传递">2.4 使用指针进行地址传递</h3>
<p>将变量的地址传递过去，俗称的&quot;传址调用&quot;。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">swap</span><span class="p">(</span><span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="o">*</span><span class="nx">p1</span><span class="p">,</span> <span class="o">*</span><span class="nx">p2</span> <span class="p">=</span> <span class="o">*</span><span class="nx">p2</span><span class="p">,</span> <span class="o">*</span><span class="nx">p1</span> <span class="c1">//星号&#34;*&#34;直接操作内存地址中的值，星号&#34;*&#34;就是指针指向的那块内存
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;swap: p1=%v, p2=%v\n&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">p1</span><span class="p">,</span> <span class="o">*</span><span class="nx">p2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">func swap(p1, p2 *int) { //接收指针类型的实参
</span></span></span><span class="line"><span class="cl"><span class="cm">	p1, p2 = p2, p1 //没带星号&#34;*&#34;只是交换了各自的内存地址的值(0xc0000a0..)
</span></span></span><span class="line"><span class="cl"><span class="cm">	fmt.Printf(&#34;swap: p1=%v, p2=%v\n&#34;, *p1, *p2)
</span></span></span><span class="line"><span class="cl"><span class="cm">	//swap: p1=0xc00000a0d0, p2=0xc00000a0b8
</span></span></span><span class="line"><span class="cl"><span class="cm">}
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="o">:=</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">	<span class="nf">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">a</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a address:%v, b address:%v\n&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">a</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;main: a=%v, b=%v\n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">swap: p1=20, p2=10
</span></span></span><span class="line"><span class="cl"><span class="cm">a address:0xc00000a0b8, b address:0xc00000a0d0
</span></span></span><span class="line"><span class="cl"><span class="cm">main: a=20, b=10
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="三数组">三、数组</h2>
<p>数组是指一系列同一类型数据的集合。作用：很多元素都是同一数据类型，放进一个集合中更容易操作和管理。
数组中包含的每个数据被称为数组元素（element），一个数组包含的元素个数被称为数组的长度。
<strong>数组长度必须是常量，因为数组的长度不可变</strong>，是其声明的组成部分。<code>[2]int</code> 和 <code>[3]int</code> 是不同类型！</p>
<h3 id="31-声明语法">3.1 声明语法</h3>
<p>语法：<code>var 名称 [N]Type</code>。
<code>N</code> 指定数组长度的一个常量，或者是一个固定的 <code>int</code> 值。
<code>Type</code> 是这个数组中元素的数据类型，数组中的所有元素的类型必须都一样。
<code>[]</code> 不能忘了写，不然就是其他类型而不是数组类型了。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">n</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">a</span> <span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="kt">int</span>  <span class="c1">//非法定义：non-constant array bound n, Invalid array bound &#39;n&#39;, must be a constant expression
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">b</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="kt">int</span> <span class="c1">//合法定义：代表这个数组长度为10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">const</span> <span class="nx">num</span> <span class="p">=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">c</span> <span class="p">[</span><span class="nx">num</span><span class="p">]</span><span class="kt">string</span> <span class="c1">//合法定义：num是一个常量
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="32-初始化数组">3.2 初始化数组</h3>
<p>初始化就是定义的同时并赋值，<strong>数组的长度是固定的，初始化的时候必须写明长度</strong>。</p>
<h4 id="321-传统写法">3.2.1 传统写法</h4>
<p>语法：<code>var variableName [const]Type = [const]Type{/*放入const个元素*/}</code>
其中等号 <code>=</code> 左边的 <code>[const]Type</code> 可以省略不写，变成：<code>var 名称 = [const]Type{/*放入const个元素*/}</code>
自动推导：<code>名称 := [const]Type{/*放入const个元素*/}</code></p>
<h4 id="322-部分初始化">3.2.2 部分初始化</h4>
<p>没有初始化的元素，自动赋值为其类型的零值。</p>
<h4 id="323-省略号--出现在数组长度的位置">3.2.3 省略号 <code>...</code> 出现在数组长度的位置</h4>
<p>在数组字面量中，如果省略号 <code>...</code> 出现在数组长度的位置，那么数组的长度由初始化数组的元素个数所决定，最终的数据类型行依然是个数组。
例1：<code>...</code> 的长度由元素个数来决定了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span> <span class="o">:=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;q length:%d, q type is:%[2]T, q=%[2]v\n&#34;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">q</span><span class="p">),</span> <span class="nx">q</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//q length:5, q type is:[5]int, q=[1 2 3 4 5]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>例2：没有元素的话，长度就为 0 了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">q</span> <span class="o">:=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">int</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;q length:%d, q type is:%[2]T, q=%[2]v\n&#34;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">q</span><span class="p">),</span> <span class="nx">q</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//q length:0, q type is:[0]int, q=[]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="324-指定下标初始化">3.2.4 指定下标初始化</h4>
<p>通过指定下标来给值，无需按顺序给出一组值了：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//指定下标，然后给值。无需再按照顺序逐个一一对应地给值了
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">symbol</span> <span class="o">:=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="s">&#34;￥&#34;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">&#34;£&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s">&#34;€&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="s">&#34;$&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;USD:%v\n&#34;</span><span class="p">,</span> <span class="nx">symbol</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;EUR:%v\n&#34;</span><span class="p">,</span> <span class="nx">symbol</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;GBP:%v\n&#34;</span><span class="p">,</span> <span class="nx">symbol</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;RMB:%v\n&#34;</span><span class="p">,</span> <span class="nx">symbol</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">USD:$
</span></span></span><span class="line"><span class="cl"><span class="cm">EUR:€
</span></span></span><span class="line"><span class="cl"><span class="cm">GBP:£
</span></span></span><span class="line"><span class="cl"><span class="cm">RMB:￥
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>常量生成器 <code>iota</code> 的值是从 0 开始，每行的值递增 1。
运用常量生成器 <code>iota</code> 的特性，来实现指定下标给值。上例中，数组初始化那条语句，也可以写成下面等价的语句：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">Currency</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">const</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="nx">USD</span> <span class="nx">Currency</span> <span class="p">=</span> <span class="kc">iota</span> <span class="c1">//iota 从 0 开始递增 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">EUR</span>
</span></span><span class="line"><span class="cl">		<span class="nx">GBP</span>
</span></span><span class="line"><span class="cl">		<span class="nx">RMB</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">symbol</span> <span class="o">:=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="nx">RMB</span><span class="p">:</span> <span class="s">&#34;￥&#34;</span><span class="p">,</span> <span class="nx">GBP</span><span class="p">:</span> <span class="s">&#34;£&#34;</span><span class="p">,</span> <span class="nx">EUR</span><span class="p">:</span> <span class="s">&#34;€&#34;</span><span class="p">,</span> <span class="nx">USD</span><span class="p">:</span> <span class="s">&#34;$&#34;</span><span class="p">}</span> <span class="c1">//常量是 iota 生成器，iota 从 0 开始递增 1，所以也可以当做下标来使用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;USD:%v\n&#34;</span><span class="p">,</span> <span class="nx">symbol</span><span class="p">[</span><span class="nx">USD</span><span class="p">])</span> <span class="c1">//iota 当下标来使用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;EUR:%v\n&#34;</span><span class="p">,</span> <span class="nx">symbol</span><span class="p">[</span><span class="nx">EUR</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;GBP:%v\n&#34;</span><span class="p">,</span> <span class="nx">symbol</span><span class="p">[</span><span class="nx">GBP</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;RMB:%v\n&#34;</span><span class="p">,</span> <span class="nx">symbol</span><span class="p">[</span><span class="nx">RMB</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">USD:$
</span></span></span><span class="line"><span class="cl"><span class="cm">EUR:€
</span></span></span><span class="line"><span class="cl"><span class="cm">GBP:£
</span></span></span><span class="line"><span class="cl"><span class="cm">RMB:￥
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="325-综合示例">3.2.5 综合示例</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//只声明不赋值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//var a [3]int
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//初始化：定义的同时给与赋值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//全部初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">a</span> <span class="p">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span> <span class="c1">//等号左边的 [5] int，可以省略不写
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//自动推导
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">b</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">111</span><span class="p">,</span> <span class="mi">222</span><span class="p">,</span> <span class="mi">333</span><span class="p">,</span> <span class="mi">444</span><span class="p">,</span> <span class="mi">555</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;b type is : %T, b:%v\n&#34;</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//部分初始化，没有初始化的元素自动赋值给其对应类型的零值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">777</span><span class="p">,</span> <span class="mi">100</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;c=&#34;</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//指定某个下标中的值（也叫指定初始化）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">d</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="mi">999</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">666</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;d=&#34;</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">[1 2 3 4 5]
</span></span></span><span class="line"><span class="cl"><span class="cm">b type is : [5]int, b:[111 222 333 444 555]
</span></span></span><span class="line"><span class="cl"><span class="cm">c= [777 100 0 0 0]
</span></span></span><span class="line"><span class="cl"><span class="cm">d= [0 0 999 0 666]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="326-小技巧">3.2.6 小技巧</h4>
<h5 id="3261-快速声明一个长度为50的数组">3.2.6.1 快速声明一个长度为50的数组</h5>
<p>指定最后一个下标的值，其他元素的值都是该指定类型的零值。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">r</span> <span class="o">:=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">49</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span> <span class="c1">//指定最后一个下标的值，其他元素都是 int 类型的零值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;r length:%d, r type is%[2]T, r=%[2]v\n&#34;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">r</span><span class="p">),</span> <span class="nx">r</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//r length:50, r type is[50]int, r=[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="33-二维数组">3.3 二维数组</h3>
<p>定义时有多少个方括号 <code>[]</code> 就是多少维数组。二维数组相当于一个表格，<code>[0,0]</code> 下标从最左上角开始。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//有2个方括号&#34;[]&#34;，就是二维数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">a</span> <span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span><span class="kt">int</span> <span class="c1">//3行4列的数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//赋值，有多少个&#34;[]&#34;就用多少层循环
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">k</span> <span class="o">:=</span> <span class="mi">111</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">j</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="p">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">k</span><span class="o">++</span>
</span></span><span class="line"><span class="cl">			<span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="p">]</span> <span class="p">=</span> <span class="nx">k</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a[%d][%d] = %d, &#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;a=&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//初始化一个二维数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//第一个方括号&#34;[]&#34;代表有几行，第二个方括号&#34;[]&#34;代表有几列
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">b</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">},</span> <span class="c1">//使用大括号包裹起来
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">{</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">},</span> <span class="c1">//逗号不要漏了，这是语法规定
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;b=&#34;</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//指定初始化，未初始化的是对应数据类型的零值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//4行3列，只初始化第3行的数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span><span class="kt">byte</span><span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="sc">&#39;g&#39;</span><span class="p">,</span> <span class="sc">&#39;p&#39;</span><span class="p">,</span> <span class="sc">&#39;r&#39;</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;c=&#34;</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">a[0][0] = 112, a[0][1] = 113, a[0][2] = 114, a[0][3] = 115,
</span></span></span><span class="line"><span class="cl"><span class="cm">a[1][0] = 116, a[1][1] = 117, a[1][2] = 118, a[1][3] = 119,
</span></span></span><span class="line"><span class="cl"><span class="cm">a[2][0] = 120, a[2][1] = 121, a[2][2] = 122, a[2][3] = 123,
</span></span></span><span class="line"><span class="cl"><span class="cm">a= [[112 113 114 115] [116 117 118 119] [120 121 122 123]]
</span></span></span><span class="line"><span class="cl"><span class="cm">b= [[1 2 3] [4 5 6] [7 8 9]]
</span></span></span><span class="line"><span class="cl"><span class="cm">c= [[0 0 0] [0 0 0] [103 112 114] [0 0 0]]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>另一种实现二维数组的方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">h</span><span class="p">,</span> <span class="nx">w</span> <span class="o">:=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">raw</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="nx">h</span><span class="o">*</span><span class="nx">w</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">raw</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">raw</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="nx">i</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;raw =&#34;</span><span class="p">,</span> <span class="nx">raw</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">table</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([][]</span><span class="kt">int</span><span class="p">,</span> <span class="nx">h</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">table</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">table</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="nx">raw</span><span class="p">[</span><span class="nx">i</span><span class="o">*</span><span class="nx">w</span> <span class="p">:</span> <span class="nx">i</span><span class="o">*</span><span class="nx">w</span><span class="o">+</span><span class="nx">w</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;table =&#34;</span><span class="p">,</span> <span class="nx">table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">raw = [0 1 2 3 4 5 6 7]
</span></span></span><span class="line"><span class="cl"><span class="cm">table = [[0 1 2 3] [4 5 6 7]]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>备注：示例来源：<code>https://studygolang.com/articles/28753</code>（创建一个动态的多维数组需要三步）</p>
<h3 id="34-数组比较和赋值">3.4 数组比较和赋值</h3>
<h4 id="341-数组比较的原则">3.4.1 数组比较的原则</h4>
<p>如果数组中的元素类型是可比较的，那么这个数组也是可比较的。比较的结果是两个数组中，所有的元素的值是否完全相同。
数组只支持 <code>==</code> 和 <code>!=</code>，不能用小于等于。</p>
<h4 id="342-数组比较的示例">3.4.2 数组比较的示例</h4>
<p>例1：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">b</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;a == b ?&#34;</span><span class="p">,</span> <span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;b == c ?&#34;</span><span class="p">,</span> <span class="nx">b</span> <span class="o">==</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">a == b ? true
</span></span></span><span class="line"><span class="cl"><span class="cm">b == c ? false
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>例2：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">b</span> <span class="o">:=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span> <span class="c1">//...的长度由数组中的元素个数来决定。这里其实就是 [2]int 类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">a</span> <span class="o">==</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">b</span> <span class="o">==</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">d</span> <span class="o">:=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span> <span class="c1">//这里其实就是 [2]int 类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="nx">d</span><span class="p">,</span> <span class="nx">b</span> <span class="o">==</span> <span class="nx">d</span><span class="p">,</span> <span class="nx">c</span> <span class="o">==</span> <span class="nx">d</span><span class="p">)</span> <span class="c1">//比较的原则是两边元素的值是否完全相同，a d 两个数组中，第二个元素的值不同，所以 == 比较的结果为 false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">true false false
</span></span></span><span class="line"><span class="cl"><span class="cm">false false true
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="343-数组相互赋值">3.4.3 数组相互赋值</h4>
<p>只有当长度相同且为同类型的数组之间，才可以相互赋值。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a type is:%T\n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">d</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;d type is:%T\n&#34;</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">d</span> <span class="p">=</span> <span class="nx">a</span> <span class="c1">//长度和类型都一样的数组才能相互赋值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;d=&#34;</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="p">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;a=&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">a type is:[5]int
</span></span></span><span class="line"><span class="cl"><span class="cm">d type is:[5]int
</span></span></span><span class="line"><span class="cl"><span class="cm">d= [1 2 3 4 5]
</span></span></span><span class="line"><span class="cl"><span class="cm">a= [10 9 8 7 6]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>不同长度的数组是不同的类型，就算它们的数据类型一样也不行。
总之一句话：<strong>数组长度不同、或者数据类型不同，都不是同一类型的数组</strong>。
反面示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">b</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;a == b?&#34;</span><span class="p">,</span> <span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span><span class="p">)</span> <span class="c1">//invalid operation: a == b (mismatched types [3]int and [5]int) ===&gt; 不匹配类型[3]int和[5]int
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="344-注意事项">3.4.4 注意事项</h4>
<p>1.Golang 压根就没设计过数组之间 <code>&lt;</code> <code>&lt;=</code> <code>&gt;</code> <code>&gt;=</code> 的运算，只支持 <code>==</code> 和 <code>!=</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">b</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;a == b?&#34;</span><span class="p">,</span> <span class="nx">a</span> <span class="p">&lt;</span> <span class="nx">b</span><span class="p">)</span> <span class="c1">//invalid operation: a &lt; b (operator &lt; not defined on array)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="35-数组做函数参数值传递值拷贝">3.5 数组做函数参数，值传递（值拷贝）</h3>
<p>值传递是把整个数组拷贝一份传递给形参，形参接收的是实参的一份副本
注意：<em>当数组中元素数量很多的时候，值拷贝的效率非常低下，而且可能会爆内存</em></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//注意：参数类型要一模一样
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">test1</span><span class="p">(</span><span class="nx">a</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mi">111111</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;test1: a=&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span> <span class="c1">//初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">test1</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;main: a=&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">test1: a= [111111 2 3 4 5]
</span></span></span><span class="line"><span class="cl"><span class="cm">main: a= [1 2 3 4 5]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="36-数组做函数参数引用传递传址">3.6 数组做函数参数，引用传递（传址）</h3>
<p>两个函数需要共用一个数组，或者这个数组中元素数量非常多，不适合值传递的时候，就可以用到数组指针。
注意：使用数组指针后，任何修改都将影响到原本的数组。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">test1</span><span class="p">(</span><span class="nx">a</span> <span class="o">*</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//数组指针，指向实参a的内存地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mi">1111111111</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;test1: a=&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">a</span><span class="p">)</span> <span class="c1">//取值用*
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nf">test1</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">a</span><span class="p">)</span> <span class="c1">//地址传递，变量前加一个取地址符&amp;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;main: a=&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">test1: a= &amp;[1111111111 2 3 4 5]
</span></span></span><span class="line"><span class="cl"><span class="cm">main: a= [1111111111 2 3 4 5]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="四slice-切片">四、<code>Slice</code> 切片</h2>
<p>数组的长度在定义后就无法修改，而且数组是值类型。切片并不是数组或者数组指针，它通过内部指针和相关属性引用数组片段（一种数据结构），以实现变长方案。
<code>Slice</code> 本质上不是一个数组，而是一个引用类型，是对数组的引用，<code>Slice</code> 总是指向一个底层的<code>Array</code>。<code>Slice</code> 的声明也可以像 <code>Array</code> 一样，只是不需要长度。
简单理解，可以把 <code>Slice</code> 称呼为：动态数组。</p>
<h3 id="41-切片初始化">4.1 切片初始化</h3>
<p>1.<code>a := []数据类型{}</code>，自动推导类型。注意：<code>[]</code>中不要写数字，否则它的类型就是数组了。
2.<code>a := make([]数据类型, 长度, 容量)</code>，长度必须写，容量可以省略不写。当容量不写的时候，跟长度的值保持一样。</p>
<h3 id="42-基本示例">4.2 基本示例</h3>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span> <span class="c1">//[]里写了数字就是一个数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">s</span> <span class="o">:=</span> <span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s type is : %T, s=%v\n&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;len(s)=%v, cap(s)=%v\n&#34;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s</span><span class="p">),</span> <span class="nb">cap</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;--------------------------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="p">=</span> <span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="c1">//从数组a下标2开始引用，4-2=2，引用2个元素。因为只引用2个元素，数组中剩余的元素就被隐藏起来了
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;s = a[2:4] ===&gt; &#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;len(s)=&#34;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;cap(s)=&#34;</span><span class="p">,</span> <span class="nb">cap</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="c1">//从数组a下标2开始引用，cap只计算下标2开始到最后的&#34;长度&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//切片是对数组的引用，这里的切片s引用的是数组a，所以对s的append也会同时append到a中去
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//append是末尾添加，当前切片s的末尾元素的值是3，在元素3后面添加新元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//同样也将从数组a当中的元素3后面开始添加（因为左闭右开）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">s</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="mi">111</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="mi">222</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="mi">333</span><span class="p">)</span> <span class="c1">//a的cap达到极限了，无法再继续append
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">s</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="mi">444</span><span class="p">)</span> <span class="c1">//&#34;动态数组&#34;会自动增加容量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;s=&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;a=&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">s type is : []int, s=[0 1 2]
</span></span></span><span class="line"><span class="cl"><span class="cm">len(s)=3, cap(s)=6
</span></span></span><span class="line"><span class="cl"><span class="cm">--------------------------
</span></span></span><span class="line"><span class="cl"><span class="cm">s = a[2:4] ===&gt;  [2 3]
</span></span></span><span class="line"><span class="cl"><span class="cm">len(s)= 2
</span></span></span><span class="line"><span class="cl"><span class="cm">cap(s)= 4
</span></span></span><span class="line"><span class="cl"><span class="cm">s= [2 3 111 222 333 444]
</span></span></span><span class="line"><span class="cl"><span class="cm">a= [0 1 2 3 111 222]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="43-切片截取">4.3 切片截取</h3>
<p>语法：<code>varName[low:high:max]</code>
长度概念：<code>len=high-low</code>
容量概念：<code>cap=max-low</code></p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>操作</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>s[n]</td>
<td>切片s中索引位置为n的项</td>
</tr>
<tr>
<td>s[:]</td>
<td>从切片s的索引位置0到len(s)-1处所获得的切片</td>
</tr>
<tr>
<td>s[low:]</td>
<td>从切片s的索引位置low到len(s)-1处所获得的切片</td>
</tr>
<tr>
<td>s[:high]</td>
<td>从切片s的索引位置0到high处所获得的切片，len=high</td>
</tr>
<tr>
<td>s[low:high]</td>
<td>从切片s的索引位置low到high处所获得的切片，len=high-low</td>
</tr>
<tr>
<td>s[low:high:max]</td>
<td>从切片s的索引位置low到high处所获得的切片，len=high-low，cap=max-low</td>
</tr>
<tr>
<td>len(s)</td>
<td>切片s的长度，总是&lt;=cap(s)</td>
</tr>
<tr>
<td>cap(s)</td>
<td>切片s的容量，总是&gt;=len(s)</td>
</tr>
</tbody>
</table></div>
<p>示例说明：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">array</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="table-wrapper"><table>
<thead>
<tr>
<th>操作</th>
<th>结果</th>
<th>len</th>
<th>说明说明</th>
<th>cap</th>
</tr>
</thead>
<tbody>
<tr>
<td>array[:6:8]</td>
<td>[0 1 2 3 4 5]</td>
<td>6</td>
<td>省略 low</td>
<td>8</td>
</tr>
<tr>
<td>array[5:]</td>
<td>[5 6 7 8 9]</td>
<td>5</td>
<td>省略 high、 max</td>
<td>5</td>
</tr>
<tr>
<td>array[:3]</td>
<td>[0 1 2]</td>
<td>3</td>
<td>省略 high、 max</td>
<td>10</td>
</tr>
<tr>
<td>array[:]</td>
<td>[0 1 2 3 4 5 6 7 8 9]</td>
<td>10</td>
<td>全部省略</td>
<td>10</td>
</tr>
</tbody>
</table></div>
<h3 id="44-append-函数">4.4 <code>append()</code> 函数</h3>
<p>内建函数 <code>append()</code>，只能用于 <code>Slice</code> 类型！
<code>append()</code> 在原 <code>Slice</code> 的末尾追加元素，并返回一个新的切片，当切片容量不够时会自动扩容。（通常以2倍增加）
<code>append()</code> 自动扩容机制：一旦超过原底层数组的容量，<code>append()</code> 时就会自动增加底层数组的容量，通常以2倍容量重新分配底层数组，并复制原来的数据。
<code>append()</code> 扩容示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">oldCap</span> <span class="o">:=</span> <span class="nb">cap</span><span class="p">(</span><span class="nx">s1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;len(s1)=%v, cap(s1)=%v\n&#34;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s1</span><span class="p">),</span> <span class="nx">oldCap</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">20</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">s1</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">s1</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="c1">//容量不够时，通常会以2倍容量进行扩容
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="k">if</span> <span class="nx">newCap</span> <span class="o">:=</span> <span class="nb">cap</span><span class="p">(</span><span class="nx">s1</span><span class="p">);</span> <span class="nx">oldCap</span> <span class="p">&lt;</span> <span class="nx">newCap</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;cap change: oldCap=%d ===&gt; newCap=%d\n&#34;</span><span class="p">,</span> <span class="nx">oldCap</span><span class="p">,</span> <span class="nx">newCap</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">oldCap</span> <span class="p">=</span> <span class="nx">newCap</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;sufficient capacity. not necessarily allocate capacity.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">len(s1)=0, cap(s1)=0
</span></span></span><span class="line"><span class="cl"><span class="cm">cap change: oldCap=0 ===&gt; newCap=1
</span></span></span><span class="line"><span class="cl"><span class="cm">cap change: oldCap=1 ===&gt; newCap=2
</span></span></span><span class="line"><span class="cl"><span class="cm">cap change: oldCap=2 ===&gt; newCap=4
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">cap change: oldCap=4 ===&gt; newCap=8
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">cap change: oldCap=8 ===&gt; newCap=16
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">cap change: oldCap=16 ===&gt; newCap=32
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">sufficient capacity. not necessarily allocate capacity.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="45-copy-函数">4.5 <code>copy()</code> 函数</h3>
<p>内建函数 <code>copy()</code>，只能用于 <code>Slice</code> 类型！
在两个 <code>Slice</code> 间复制数据，复制长度以 <code>len()</code> 小的为准，两个 <code>Slice</code> 可指向同一底层数组。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">srcSlice</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">dstSlice</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">n</span> <span class="o">:=</span> <span class="nb">copy</span><span class="p">(</span><span class="nx">dstSlice</span><span class="p">,</span> <span class="nx">srcSlice</span><span class="p">)</span> <span class="c1">//相当于把srcSlice替换到dstSlice的开始处
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;dstSlice=&#34;</span><span class="p">,</span> <span class="nx">dstSlice</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;how much copied:%d\n&#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;------------------------------------------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">srcSlice</span> <span class="p">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">dstSlice</span> <span class="p">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">77</span><span class="p">,</span> <span class="mi">88</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">n</span> <span class="p">=</span> <span class="nb">copy</span><span class="p">(</span><span class="nx">dstSlice</span><span class="p">,</span> <span class="nx">srcSlice</span><span class="p">)</span> <span class="c1">//目标切片只有2个容量，所以只有2个被copy过去，其余都丢弃
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;dstSlice=&#34;</span><span class="p">,</span> <span class="nx">dstSlice</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;how much copied:%d\n&#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;------------------------------------------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">srcSlice</span> <span class="p">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">dstSlice</span> <span class="p">=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1">//剩余的元素的值使用默认类型的零值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">n</span> <span class="p">=</span> <span class="nb">copy</span><span class="p">(</span><span class="nx">dstSlice</span><span class="p">,</span> <span class="nx">srcSlice</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;dstSlice=&#34;</span><span class="p">,</span> <span class="nx">dstSlice</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;how much copied:%d\n&#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">dstSlice= [1 2 9 10]
</span></span></span><span class="line"><span class="cl"><span class="cm">how much copied:2
</span></span></span><span class="line"><span class="cl"><span class="cm">------------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="cm">dstSlice= [1 2]
</span></span></span><span class="line"><span class="cl"><span class="cm">how much copied:2
</span></span></span><span class="line"><span class="cl"><span class="cm">------------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="cm">dstSlice= [1 2 3 4 5 0 0 0 0 0]
</span></span></span><span class="line"><span class="cl"><span class="cm">how much copied:5
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="46-切片作为函数参数是引用传递传址">4.6 切片作为函数参数是引用传递(传址)</h3>
<p>切片作为函数的参数，采用引用传递（传址），不会像数组那样把整个都拷贝一份传递过去，切片只是把它的内存地址传递过去。
由于切片是引用传递（传址），所以传参时没必要用到指针，也能实现同时修改。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;math/rand&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//初始化切片
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">InitSlice</span><span class="p">(</span><span class="nx">s</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//参数是int类型的切片
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">rand</span><span class="p">.</span><span class="nf">Seed</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">UnixNano</span><span class="p">())</span> <span class="c1">//以当前时间的纳秒作为种子
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="c1">//0~100的随机正整数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//冒泡排序
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">Bubbling</span><span class="p">(</span><span class="nx">s</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//参数是int类型的切片
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">sLen</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">sLen</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">j</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="p">&lt;</span> <span class="nx">sLen</span><span class="o">-</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="nx">s</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="p">&gt;</span> <span class="nx">s</span><span class="p">[</span><span class="nx">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">s</span><span class="p">[</span><span class="nx">j</span><span class="p">],</span> <span class="nx">s</span><span class="p">[</span><span class="nx">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="nx">s</span><span class="p">[</span><span class="nx">j</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="nx">s</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">n</span> <span class="o">:=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="c1">//声明一个长度为n的int类型切片
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nf">InitSlice</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;before store, s=&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">Bubbling</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;after store, s=&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">before store, s= [48 63 24 35 4 0 41 21 61 78]
</span></span></span><span class="line"><span class="cl"><span class="cm">after store, s= [0 4 21 24 35 41 48 61 63 78]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="47-slice-只允许和-nil-做比较">4.7 slice 只允许和 <code>nil</code> 做比较</h3>
<p><code>slice</code> 类型的零值为 <code>nil</code>，<strong>slice 类型只允许和 nil 做比较</strong>。</p>
<h4 id="471-nil-表示没有内存空间">4.7.1 <code>nil</code> 表示没有内存空间</h4>
<p><code>slice</code> 数据类型是引用类型，只有当不分配内存空间时，才为 <code>nil</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">s1</span> <span class="p">[]</span><span class="kt">int</span> <span class="c1">//只是声明，不会去申请内存空间
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s1 == nil ? %t, addr:%p, len(s1)=%d\n&#34;</span><span class="p">,</span> <span class="nx">s1</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">s1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span> <span class="p">=</span> <span class="kc">nil</span> <span class="c1">//手动显示地赋值了 nil，那么肯定是 nil
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s1 == nil ? %t, addr:%p, len(s1)=%d\n&#34;</span><span class="p">,</span> <span class="nx">s1</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">s1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//切片的值可以为 nil，可以写成转换表达式 []int(nil)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">s1</span> <span class="p">=</span> <span class="p">[]</span><span class="nb">int</span><span class="p">(</span><span class="kc">nil</span><span class="p">)</span> <span class="c1">//[]int{nil} 会报错，因为 int 的零值不是 nil
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s1 == nil ? %t, addr:%p, len(s1)=%d\n&#34;</span><span class="p">,</span> <span class="nx">s1</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">s1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span> <span class="p">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{}</span> <span class="c1">//赋值了，只是它是一个没有元素的空切片，赋值会去申请开辟内存空间
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s1 == nil ? %t, addr:%p, len(s1)=%d\n&#34;</span><span class="p">,</span> <span class="nx">s1</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">s1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">s2</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{}</span> <span class="c1">//短变量就是声明+赋值，就是初始化，初始化了就会去申请内存空间
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s2 == nil ? %t, addr:%p, len(s2)=%d\n&#34;</span><span class="p">,</span> <span class="nx">s2</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">s2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">s3</span> <span class="o">:=</span> <span class="p">[]</span><span class="nb">int</span><span class="p">(</span><span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s3 == nil ? %t, addr:%p, len(s3)=%d\n&#34;</span><span class="p">,</span> <span class="nx">s3</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">s3</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s3</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//make() 函数会返回一个具体的类型，只有是引用类型才能使用 make() 函数，既然引用了，那么这个类型就已经存在于内存中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">s4</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s4 type is:%T, s4 == nil ? %t, addr:%p, len(s4)=%d\n&#34;</span><span class="p">,</span> <span class="nx">s4</span><span class="p">,</span> <span class="nx">s4</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">s4</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s4</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//具体类型赋值给了变量，这个变量其实是引用类型了，那么就有了内存空间
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">s5</span> <span class="p">=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s5 type is:%T, s5 == nil ? %t, addr:%p, len(s5)=%d\n&#34;</span><span class="p">,</span> <span class="nx">s5</span><span class="p">,</span> <span class="nx">s5</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">s5</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s5</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">s1 == nil ? true, addr:0x0, len(s1)=0
</span></span></span><span class="line"><span class="cl"><span class="cm">s1 == nil ? true, addr:0x0, len(s1)=0
</span></span></span><span class="line"><span class="cl"><span class="cm">s1 == nil ? true, addr:0x0, len(s1)=0
</span></span></span><span class="line"><span class="cl"><span class="cm">s1 == nil ? false, addr:0x5a7da8, len(s1)=0
</span></span></span><span class="line"><span class="cl"><span class="cm">s2 == nil ? false, addr:0x5a7da8, len(s2)=0
</span></span></span><span class="line"><span class="cl"><span class="cm">s3 == nil ? true, addr:0x0, len(s3)=0
</span></span></span><span class="line"><span class="cl"><span class="cm">s4 type is:[]int, s4 == nil ? false, addr:0x5a7da8, len(s4)=0
</span></span></span><span class="line"><span class="cl"><span class="cm">s5 type is:[]int, s5 == nil ? false, addr:0x5a7da8, len(s5)=0
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="472-这些情况下slice-的值为-nil">4.7.2 这些情况下，slice 的值为 <code>nil</code></h4>
<h5 id="4721-var-s-int-形式的声明">4.7.2.1 <code>var s []int</code> 形式的声明</h5>
<p><code>var s []int</code> 只是声明，没有给值（没有赋值），不会去申请内存空间。</p>
<h5 id="4722-s--intnil-转换表达式">4.7.2.2 <code>s = []int(nil)</code> 转换表达式</h5>
<p>因为 <code>slice</code> 的值可以为 <code>nil</code>，所以可以使用这个转换表达式：<code>[]int(nil)</code>。</p>
<h5 id="4723-手动赋值为-nil">4.7.2.3 手动赋值为 <code>nil</code></h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="p">=</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s == nil ? %t, addr:%p, len(s)=%d\n&#34;</span><span class="p">,</span> <span class="nx">s</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//s == nil ? true, addr:0x0, len(s)=0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>手动给了 <code>nil</code>，那么肯定为 <code>nil</code> 了。</p>
<h3 id="48-对-slice-进行截取时起始下标刚好等于长度">4.8 对 <code>Slice</code> 进行截取时，起始下标刚好等于长度</h3>
<p>对 <code>Slice</code> 进行截取时，起始位置的下标刚好等于这个 <code>Slice</code> 的长度。此时，是没有任何语法错误的，只是结果是一个空切片。
演示：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;len(s)=%[1]d, cap(s)=%[1]d, type:%[1]T\n&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">[</span><span class="mi">5</span><span class="p">:])</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//len(s)=[], cap(s)=[], type:[]int
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在 Golang 中，对 <code>Slice</code> 和 <code>string</code> 进行范围截取（也就是 <code>[m:n]</code>）时。<code>m</code> 和 <code>n</code> 的值，只要在这个范围内：<code>0 &lt;= m &lt;= n &lt;= len(s)</code>，就不会发生任何错误、异常。
大致上的原因个人分析：
以上面这个代码片段为例。<code>Slice</code> 变量 s 中，有 5 个元素，长度为 5。在 Golang 中，上届 <code>n</code> 和下届 <code>m</code>，他们是互斥的。能够截取多少个元素是由 <code>n - m</code> 所决定的。代码片段中，进行了 <code>s[5:]</code> 的操作。此时，上届没有指定，那么默认就是 5，因为 s 的长度为 5，上届已经指定了是 5。上届和下届都是在 <code>0 &lt;= m &lt;= n &lt;= len(s)</code> 这个范围中，符合规范。<code>5 - 5 = 0</code>，只能取到 0 个元素，所以最终是个空切片。
另外注意：上届可以超过长度，但不能超过容量！
我的理解是基于 stackoverflow 上的这个解答：<a class="link" href="https://stackoverflow.com/questions/45299185/slice-start-position-greater-than-length-of-the-string"  target="_blank" rel="noopener"
    >link</a></p>
<h3 id="49-切片与数组的区别和关系">4.9 切片与数组的区别和关系</h3>
<h4 id="491-区别长度">4.9.1 区别：长度</h4>
<p>数组：数组的长度是固定写死的，方括号 <code>[]</code> 中必须写明常量，例：<code>a := [5]int{}</code>。
切片：方括号 <code>[]</code> 中不写或者 <code>...</code> 来代替，例：<code>a := [...]int{}</code>。</p>
<h4 id="492-区别做函数调用时">4.9.2 区别：做函数调用时</h4>
<p>数组是按值传递（传值），切片是按引用传递（传址）。</p>
<h4 id="493-区别只有-slice-可以使用-append-函数">4.9.3 区别：只有 <code>Slice</code> 可以使用 <code>append()</code> 函数</h4>
<p><code>append()</code> 的第一个参数必须切片类型。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="mi">111111</span><span class="p">)</span> <span class="c1">// first argument to append must be slice; have [6]int
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;a=&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>数组的长度是固定不能修改的，<code>append()</code> 将会改变数组的长度，自相矛盾了。</p>
<h4 id="494-关系切片是对底层数组的引用">4.9.4 关系：切片是对底层数组的引用</h4>
<p><strong>引用表示共用同一个内存地址</strong>。
例1：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span>                          <span class="c1">// 这是数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">s1</span> <span class="o">:=</span> <span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>                                                        <span class="c1">// 这是切片
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s1=%v, len(s1)=%v, cap(s1)=%v\n&#34;</span><span class="p">,</span> <span class="nx">s1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s1</span><span class="p">),</span> <span class="nb">cap</span><span class="p">(</span><span class="nx">s1</span><span class="p">))</span> <span class="c1">// s1=[2 3 4], len(s1)=3, cap(s1)=8
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;--------------------------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// 引用表示的是它们同时在使用同一个内存地址，无论哪一个修改，都是在直接修改内存地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// 由于是使用同一个内存地址，所以最终的值都是一样
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mi">9999</span>           <span class="c1">// 切片是对数组的引用，修改切片中的元素，将会影响到底层的数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;s1=&#34;</span><span class="p">,</span> <span class="nx">s1</span><span class="p">)</span> <span class="c1">// s1= [2 9999 4]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;a=&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>   <span class="c1">// a= [0 1 2 9999 4 5 6 7 8 9]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;--------------------------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="mi">100000</span> <span class="c1">// 数组修改元素后，切片是引用了数组，一样也会改变切片的元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;s1=&#34;</span><span class="p">,</span> <span class="nx">s1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;a=&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">s1=[2 3 4], len(s1)=3, cap(s1)=8
</span></span></span><span class="line"><span class="cl"><span class="cm">--------------------------
</span></span></span><span class="line"><span class="cl"><span class="cm">s1= [2 9999 4]
</span></span></span><span class="line"><span class="cl"><span class="cm">a= [0 1 2 9999 4 5 6 7 8 9]
</span></span></span><span class="line"><span class="cl"><span class="cm">--------------------------
</span></span></span><span class="line"><span class="cl"><span class="cm">s1= [100000 9999 4]
</span></span></span><span class="line"><span class="cl"><span class="cm">a= [0 1 100000 9999 4 5 6 7 8 9]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>例2：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span> <span class="o">:=</span> <span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="c1">//切片，从数组下标2开始引用3个元素，cap=len(a)-2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s1=%v, len(s1)=%v, cap(s1)=%v\n&#34;</span><span class="p">,</span> <span class="nx">s1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s1</span><span class="p">),</span> <span class="nb">cap</span><span class="p">(</span><span class="nx">s1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;---------------------------------------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">s2</span> <span class="o">:=</span> <span class="nx">s1</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span> <span class="c1">//此时s1的cap为8，所以取下标时不要越界了。这里从切片s1的下标2开始取6个元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;before change: s1=%v\n&#34;</span><span class="p">,</span> <span class="nx">s1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;before change: s2=%v\n&#34;</span><span class="p">,</span> <span class="nx">s2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;---------------------------------------&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">s2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">=</span> <span class="mi">7777777</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;after changed: s1=%v\n&#34;</span><span class="p">,</span> <span class="nx">s1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;after changed: s2=%v\n&#34;</span><span class="p">,</span> <span class="nx">s2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;a=&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">s1=[2 3 4], len(s1)=3, cap(s1)=8
</span></span></span><span class="line"><span class="cl"><span class="cm">---------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="cm">before change: s1=[2 3 4]
</span></span></span><span class="line"><span class="cl"><span class="cm">before change: s2=[4 5 6 7 8 9]
</span></span></span><span class="line"><span class="cl"><span class="cm">---------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="cm">after changed: s1=[2 3 4]
</span></span></span><span class="line"><span class="cl"><span class="cm">after changed: s2=[4 5 6 7777777 8 9]
</span></span></span><span class="line"><span class="cl"><span class="cm">a= [0 1 2 3 4 5 6 7777777 8 9]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="410-语法糖-">4.10 语法糖 <code>...</code></h3>
<p><code>...</code> 作为 Go 语言的语法糖，主要有 2 个用途：作为函数的不定长参数，打散切片。</p>
<h4 id="4101-作为函数的不定长参数">4.10.1 作为函数的不定长参数</h4>
<p>作为函数不定长参数的使用，已在 Day2 笔记中有记录。<a class="link" href="https://blog.csdn.net/zhangyibei2008/article/details/104108378#13__81"  target="_blank" rel="noopener"
    >前往笔记</a></p>
<h4 id="4102-打散切片">4.10.2 打散切片</h4>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">src</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">dst</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;before append, src = %v\n&#34;</span><span class="p">,</span> <span class="nx">src</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">src</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">src</span><span class="p">,</span> <span class="nx">dst</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;after append, src = %v\n&#34;</span><span class="p">,</span> <span class="nx">src</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">before append, src = [1 2 3]
</span></span></span><span class="line"><span class="cl"><span class="cm">after append, src = [1 2 3 4 5 6]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>本质上是因为 <code>append()</code> 函数的第二个参数，它是某个数据类型的不定长参数。不定长参数需要接受的是具体的类型，而不是一个切片。因此，使用 <code>...</code> 将切片打散后，就变成了一个个具体的数据类型，那么就符合了 <code>append()</code> 函数参数的类型。</p>
<h2 id="五map">五、<code>map</code></h2>
<p>底层使用哈希表 <code>HashMap</code> 实现的无序的 <code>key-value</code> 键值对的集合，一个 <code>map</code> 中所有的** key 是唯一的**。
<strong>key 必须是支持 == 和 != 操作符的数据类型</strong>。切片、函数以及包含切片的结构类型由于具有引用语义，不能作为 <code>map</code> 的 <code>key</code>。
<code>value</code> 可以是任意类型，没有限制。<code>map</code> 里所有 <code>key</code> 的数据类型必须是相同的，<code>value</code> 的数据类型也必须都是相同的。但 <code>key</code> 和 <code>value</code> 的数据类型可以是不同的。</p>
<h3 id="51-声明初始化-map">5.1 声明、初始化 <code>map</code></h3>
<h4 id="511-mapkey数据类型value数据类型">5.1.1 <code>map[key数据类型]value数据类型</code></h4>
<p>语法格式：<code>map[keyType]valueType</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">m1</span> <span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span>  <span class="c1">// 声明一个 map，但没有给值（没有初始化），所以是个空 map
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1=&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">)</span> <span class="c1">// m1= map[]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="512-make-函数">5.1.2 <code>make()</code> 函数</h4>
<p>语法格式：<code>varName := make(map[keyType]valueType, len)</code>，<code>len</code> 可以省略不写，<code>map</code> 是根据元素数量自动对 <code>len</code> 进行扩容。
注：如果明确知道了这个 <code>map</code> 会有多少个元素，最好把 <code>len</code> 写上。因为它在 <code>make()</code> 的时候就把对应长度的内存空间申请下来了，不用每次都去检测、自动扩容，提高了效率。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m1</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span> <span class="c1">//map可以不指定长度，因为它会自动扩容
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1=&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">m2</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;m2=%v, len(m2)=%d\n&#34;</span><span class="p">,</span> <span class="nx">m2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">m2</span><span class="p">))</span> <span class="c1">//map中的len是计算元素的数量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">m2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;go&#34;</span> <span class="c1">//对map的操作
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">m2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;python&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;rust&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;m2=%v, len(m2)=%d\n&#34;</span><span class="p">,</span> <span class="nx">m2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">m2</span><span class="p">))</span> <span class="c1">//map会对len自动扩容
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">m1= map[]
</span></span></span><span class="line"><span class="cl"><span class="cm">m2=map[], len(m2)=0
</span></span></span><span class="line"><span class="cl"><span class="cm">m2=map[0:go 1:python 2:rust], len(m2)=3
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>另外要注意一点：<code>make()</code> 中的 <code>len</code> 属性可以指定 <code>map</code> 的长度，但无法获得他的 <code>cap</code>。
错误示例：（这段代码编译都编不过，编译时错误）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span><span class="p">[</span><span class="s">&#34;a&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span><span class="p">[</span><span class="s">&#34;b&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span><span class="p">[</span><span class="s">&#34;c&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span><span class="p">[</span><span class="s">&#34;d&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;cap(m) =&#34;</span><span class="p">,</span> <span class="nb">cap</span><span class="p">(</span><span class="nx">m</span><span class="p">))</span> <span class="c1">// invalid argument m (type map[string]int) for cap
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="513-初始化-map-的方式">5.1.3 初始化 <code>map</code> 的方式</h4>
<p>键值对的写法：<code>key:value</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m1</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s">&#34;python&#34;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">&#34;rust&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="s">&#34;go&#34;</span><span class="p">}</span> <span class="c1">//每个元素都是key:value的写法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1=&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">m2</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="s">&#34;go&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#34;python&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#34;C&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m2=&#34;</span><span class="p">,</span> <span class="nx">m2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">m1= map[0:go 1:python 2:rust]
</span></span></span><span class="line"><span class="cl"><span class="cm">m2= map[C:0 go:1 python:2]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="514-短变量初始化方式">5.1.4 短变量初始化方式</h4>
<p>如果 <code>key</code> 已存在，则会覆盖该 <code>key</code> 对应的 <code>value</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m1</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s">&#34;C&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s">&#34;go&#34;</span><span class="p">}</span> <span class="c1">//初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1=&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;rust&#34;</span>   <span class="c1">//有该key则修改该key对应的value
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">m1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;python&#34;</span> <span class="c1">//没有该key则追加，底层自动会扩容length
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1=&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">m1= map[0:C 1:go]
</span></span></span><span class="line"><span class="cl"><span class="cm">m1= map[0:rust 1:go 3:python]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="52-map遍历">5.2 map遍历</h3>
<p>使用 <code>for</code> 循环搭配 <code>range</code> 进行遍历，第一个返回 <code>key</code>，第二个返回 <code>value</code>。遍历结果为无序，因为 map 本身就是无序的。
例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m1</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s">&#34;C&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">&#34;python&#34;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s">&#34;rust&#34;</span><span class="p">}</span> <span class="c1">//初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">for</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">m1</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;key=%d, value=%s\n&#34;</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">key=2, value=python
</span></span></span><span class="line"><span class="cl"><span class="cm">key=3, value=rust
</span></span></span><span class="line"><span class="cl"><span class="cm">key=0, value=C
</span></span></span><span class="line"><span class="cl"><span class="cm">key=1, value=go
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="53-判断key是否存在">5.3 判断key是否存在</h3>
<p>语法：<code>mapName[key]</code>。
返回 2 个结果：第一个是该 <code>key</code> 所对应的 <code>value</code>，第二个返回该 <code>key</code> 是否存在于 <code>map</code> 中的 <code>bool</code>。如果 <code>key</code> 不存在，<code>value</code> 返回其类型对应的零值。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m1</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s">&#34;C&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">&#34;python&#34;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s">&#34;rust&#34;</span><span class="p">}</span> <span class="c1">//初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//第一个返回key对应的值，第二个返回key是否存在于map中的bool
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">value</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">m1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;value=%v, ok=%v\n&#34;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">ok</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">value</span><span class="p">,</span> <span class="nx">ok</span> <span class="p">=</span> <span class="nx">m1</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="c1">//不存在返回该值所对应的零值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;value=%v, ok=%v\n&#34;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">ok</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">value=go, ok=true
</span></span></span><span class="line"><span class="cl"><span class="cm">value=, ok=false
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="54-删除一对键值">5.4 删除一对键值</h3>
<p>语法：<code>delete(mapName, key)</code>。
注：如果 <code>key</code> 为 <code>nil</code> 或不存在与 <code>map</code> 中，<code>delete</code> 将会是个无操作指令（不会报错）！</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m1</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s">&#34;C&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">&#34;python&#34;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s">&#34;rust&#34;</span><span class="p">}</span> <span class="c1">//初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1=&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nb">delete</span><span class="p">(</span><span class="nx">m1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">//有这个key，就删除这对键值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1=&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nb">delete</span><span class="p">(</span><span class="nx">m1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1">//key不存在于map中，delete将是无操作指令
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1=&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">m1= map[0:C 1:go 2:python 3:rust]
</span></span></span><span class="line"><span class="cl"><span class="cm">m1= map[0:C 1:go 2:python]
</span></span></span><span class="line"><span class="cl"><span class="cm">m1= map[0:C 1:go 2:python]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="55-map作为函数参数">5.5 map作为函数参数</h3>
<p><strong>map 作为函数参数传递是引用传递（传址），用的是同一个 map</strong>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">test</span><span class="p">(</span><span class="nx">m</span> <span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//注意参数类型要一样
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nb">delete</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">//用的是同一个map，因此操作会影响到原有的map
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nb">delete</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m1</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s">&#34;C&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">&#34;python&#34;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s">&#34;rust&#34;</span><span class="p">}</span> <span class="c1">//初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1=&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">test</span><span class="p">(</span><span class="nx">m1</span><span class="p">)</span> <span class="c1">//引用传递
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1=&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">m1= map[0:C 1:go 2:python 3:rust]
</span></span></span><span class="line"><span class="cl"><span class="cm">m1= map[1:go 2:python]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="六struct结构体">六、Struct结构体</h2>
<p>结构体是一种聚合的数据类型，它是由一系列具有相同类型或不同类型的数据构成的数据集合，每个数据称为结构体的成员。
简而言之：结构体可以将不同类型的数据整合成一个有机的整体。</p>
<h3 id="61-结构体的初始化">6.1 结构体的初始化</h3>
<p>基本语法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="err">变量名</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="err">成员变量名</span><span class="mi">1</span> <span class="err">数据类型</span>
</span></span><span class="line"><span class="cl">	<span class="err">成员变量名</span><span class="mi">2</span> <span class="err">数据类型</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span>
</span></span><span class="line"><span class="cl">	<span class="err">成员变量名</span><span class="nx">n</span> <span class="err">数据类型</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：成员变量名前不要加<code>var</code>。</p>
<h4 id="611-普通变量">6.1.1 普通变量</h4>
<p>1.顺序初始化
<strong>顺序初始化，每个成员都必须给值，否则就报错</strong>！</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//定义一个结构体类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Student</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">id</span>      <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">name</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sex</span>     <span class="kt">byte</span> <span class="c1">//字符类型，以ASCII码值打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">age</span>     <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">address</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//顺序初始化，每个成员都必须给值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">s1</span> <span class="nx">Student</span> <span class="p">=</span> <span class="nx">Student</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="sc">&#39;M&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&#34;Google Inc.&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;struct s1=&#34;</span><span class="p">,</span> <span class="nx">s1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">s2</span> <span class="nx">Student</span> <span class="p">=</span> <span class="nx">Student</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#34;python&#34;</span><span class="p">}</span> <span class="c1">//报错：too few values in Student literal
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;struct s2=&#34;</span><span class="p">,</span> <span class="nx">s2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>2.指定成员初始化
指定成员初始化，没有指定的成员自动给其对应数据类型的零值</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//定义一个结构体类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Student</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">id</span>      <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">name</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sex</span>     <span class="kt">byte</span> <span class="c1">//字符类型，以ASCII码值打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">age</span>     <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">address</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//指定成员初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">s1</span> <span class="o">:=</span> <span class="nx">Student</span><span class="p">{</span><span class="nx">name</span><span class="p">:</span> <span class="s">&#34;python&#34;</span><span class="p">,</span> <span class="nx">address</span><span class="p">:</span> <span class="s">&#34;Netherlands&#34;</span><span class="p">}</span> <span class="c1">//自动推导类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;s1=&#34;</span><span class="p">,</span> <span class="nx">s1</span><span class="p">)</span> <span class="c1">//s1= {0 python 0 0 Netherlands}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="612-指针变量">6.1.2 指针变量</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//定义一个结构体类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Student</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">id</span>      <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">name</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sex</span>     <span class="kt">byte</span> <span class="c1">//字符类型，以ASCII码值打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">age</span>     <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">address</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">s1</span> <span class="o">*</span><span class="nx">Student</span> <span class="c1">//s1声明成一个Student结构体的指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">s1</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">Student</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="sc">&#39;M&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&#34;Google Inc.&#34;</span><span class="p">}</span> <span class="c1">//别忘了取地址符&amp;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;*s1=&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">s1</span><span class="p">)</span> <span class="c1">//取值需要使用星花符*
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">s2</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">Student</span><span class="p">{</span><span class="nx">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">name</span><span class="p">:</span> <span class="s">&#34;python&#34;</span><span class="p">,</span> <span class="nx">address</span><span class="p">:</span> <span class="s">&#34;Netherlands&#34;</span><span class="p">}</span> <span class="c1">//自动推导类型为Student结构体指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;s2 type is : %T\n*s2=%v&#34;</span><span class="p">,</span> <span class="nx">s2</span><span class="p">,</span> <span class="o">*</span><span class="nx">s2</span><span class="p">)</span> <span class="c1">//main包中，Student结构体指针类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">*s1= {0 go 77 11 Google Inc.}
</span></span></span><span class="line"><span class="cl"><span class="cm">s2 type is : *main.Student
</span></span></span><span class="line"><span class="cl"><span class="cm">*s2={1 python 0 0 Netherlands}
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="62-结构体成员的使用普通变量">6.2 结构体成员的使用：普通变量</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//定义一个结构体类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Student</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">id</span>      <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">name</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sex</span>     <span class="kt">byte</span> <span class="c1">//字符类型，以ASCII码值打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">age</span>     <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">address</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//声明一个结构体普通变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">s1</span> <span class="nx">Student</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//操作成员，使用点&#34;.&#34;运算符
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">s1</span><span class="p">.</span><span class="nx">id</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span><span class="p">.</span><span class="nx">name</span> <span class="p">=</span> <span class="s">&#34;go&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//未操作的成员，值为对应数据类型的零值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;s1=&#34;</span><span class="p">,</span> <span class="nx">s1</span><span class="p">)</span> <span class="c1">//s1= {0 go 0 0 }
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="63-结构体成员的使用指针变量">6.3 结构体成员的使用：指针变量</h3>
<h4 id="631-指针指向结构体普通变量的内存地址">6.3.1 指针指向结构体普通变量的内存地址</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//定义一个结构体类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Student</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">id</span>      <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">name</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sex</span>     <span class="kt">byte</span> <span class="c1">//字符类型，以ASCII码值打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">age</span>     <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">address</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//指针有合法指向后，才能操作成员
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//1.定义一个普通结构体变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">s1</span> <span class="nx">Student</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//2.定义一个结构体指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">p1</span> <span class="o">*</span><span class="nx">Student</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//指针指向普通结构体变量的内存地址，指向一个合法的内存地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">p1</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">s1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//以下两种写法完全等价
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">p1</span><span class="p">.</span><span class="nx">id</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="p">(</span><span class="o">*</span><span class="nx">p1</span><span class="p">).</span><span class="nx">name</span> <span class="p">=</span> <span class="s">&#34;go&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">p1</span><span class="p">.</span><span class="nx">address</span> <span class="p">=</span> <span class="s">&#34;Google Inc.&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;*p1=&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">p1</span><span class="p">)</span> <span class="c1">//取指针中的值，需要使用星花符&#34;*&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;s1=&#34;</span><span class="p">,</span> <span class="nx">s1</span><span class="p">)</span>   <span class="c1">//直接打印s1的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">*p1= {0 go 0 0 Google Inc.}
</span></span></span><span class="line"><span class="cl"><span class="cm">s1= {0 go 0 0 Google Inc.}
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="632-new函数指向">6.3.2 new()函数指向</h4>
<p><code>new()</code> 返回一个类型的指针，指针指向的是内存地址，相当于是去内存中申请了一块空间。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//定义一个结构体类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Student</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">id</span>      <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">name</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sex</span>     <span class="kt">byte</span> <span class="c1">//字符类型，以ASCII码值打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">age</span>     <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">address</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//指针有合法指向后，才能操作成员
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//使用new()去申请一个结构体指针，留出一块内存空间并指向这块内存空间，也是一个合法的指向
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">s1</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Student</span><span class="p">)</span> <span class="c1">//return *Type
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span><span class="p">.</span><span class="nx">name</span> <span class="p">=</span> <span class="s">&#34;golang&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="p">(</span><span class="o">*</span><span class="nx">s1</span><span class="p">).</span><span class="nx">address</span> <span class="p">=</span> <span class="s">&#34;Google Inc.&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span><span class="p">.</span><span class="nx">sex</span> <span class="p">=</span> <span class="sc">&#39;M&#39;</span> <span class="c1">//最终以ASCII码值的形式打印出来
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;*s1=%v, s1 address: %p&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">s1</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">s1</span><span class="p">)</span> <span class="c1">//s1是一个合法指针，取值需要使用星花符&#34;*&#34;，取地址使用&amp;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">*s1={0 golang 77 0 Google Inc.}, s1 address: 0xc000006028
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="64-结构体比较">6.4 结构体比较</h3>
<p>结构体的比较只支持 <code>==</code> 和 <code>!=</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//定义一个结构体类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Student</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">id</span>      <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">name</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sex</span>     <span class="kt">byte</span> <span class="c1">//字符类型，以ASCII码值打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">age</span>     <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">address</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span> <span class="o">:=</span> <span class="nx">Student</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="sc">&#39;M&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&#34;Google Inc.&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s2</span> <span class="o">:=</span> <span class="nx">Student</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="sc">&#39;M&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&#34;Google Inc.&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s3</span> <span class="o">:=</span> <span class="nx">Student</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="sc">&#39;M&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&#34;Google Inc&#34;</span><span class="p">}</span> <span class="c1">//至少了最后一个点&#34;.&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;s1 == s2?&#34;</span><span class="p">,</span> <span class="nx">s1</span> <span class="o">==</span> <span class="nx">s2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;s1 == s3?&#34;</span><span class="p">,</span> <span class="nx">s1</span> <span class="o">==</span> <span class="nx">s3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">s1 == s2? true
</span></span></span><span class="line"><span class="cl"><span class="cm">s1 == s3? false
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>从以上示例中可以看出：结构体之间的比较是它们成员值的逐一完全比较，s3 的成员 address 字符串值中只少了一个 <code>.</code>，两者比较就是不相等了！</p>
<h3 id="65-结构体赋值">6.5 结构体赋值</h3>
<p>同类型的两个结构体变量可以相互赋值。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//定义一个结构体类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Student</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">id</span>      <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">name</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sex</span>     <span class="kt">byte</span> <span class="c1">//字符类型，以ASCII码值打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">age</span>     <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">address</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s1</span> <span class="o">:=</span> <span class="nx">Student</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="sc">&#39;M&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&#34;Google Inc.&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">tmp</span> <span class="nx">Student</span> <span class="c1">//tmp也声明为Student类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">tmp</span> <span class="p">=</span> <span class="nx">s1</span> <span class="c1">//只有同类型的结构体才能相互赋值，s1的类型也是Student
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;tmp=&#34;</span><span class="p">,</span> <span class="nx">tmp</span><span class="p">)</span> <span class="c1">//tmp= {1 go 77 11 Google Inc.}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="66-结构体做函数参数值传递">6.6 结构体做函数参数：值传递</h3>
<p>值传递：拷贝一份给形参，两个不同的作用域，修改的只是自己作用域内的。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//定义一个结构体类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Student</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">id</span>      <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">name</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sex</span>     <span class="kt">byte</span> <span class="c1">//字符类型，以ASCII码值打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">age</span>     <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">address</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//值传递，函数内部无法修改外部的
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">test</span><span class="p">(</span><span class="nx">s</span> <span class="nx">Student</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span><span class="p">.</span><span class="nx">id</span> <span class="p">=</span> <span class="mi">999</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;test s=&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="o">:=</span> <span class="nx">Student</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="sc">&#39;M&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&#34;Google Inc.&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">test</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="c1">//s拷贝一份给形参
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;main s=&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">test s= {999 go 77 11 Google Inc.}
</span></span></span><span class="line"><span class="cl"><span class="cm">main s= {1 go 77 11 Google Inc.}
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="67-结构体做函数参数引用传递传址">6.7 结构体做函数参数：引用传递（传址）</h3>
<p>拿到了一个变量的内存地址，使用的就是同一个变量了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//定义一个结构体类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Student</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">id</span>      <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">name</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sex</span>     <span class="kt">byte</span> <span class="c1">//字符类型，以ASCII码值打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">age</span>     <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">address</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//指针指向内存地址，拿到了内存地址，就是在使用同一个变量了
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">test</span><span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">Student</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span><span class="p">.</span><span class="nx">id</span> <span class="p">=</span> <span class="mi">999</span> <span class="c1">//此时s是指针了，指向了实参的内存地址，这里修改就会影响到实参
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">(</span><span class="o">*</span><span class="nx">s</span><span class="p">).</span><span class="nx">address</span> <span class="p">=</span> <span class="s">&#34;MountainView Google&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;test s=&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">s</span><span class="p">)</span> <span class="c1">//取出指针指向内存地址中的值，使用星花符&#34;*&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="o">:=</span> <span class="nx">Student</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="sc">&#39;M&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&#34;Google Inc.&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;before call test, main s=&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">test</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">s</span><span class="p">)</span> <span class="c1">//s的地址传给形参
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;after called, main s=&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">before call test, main s= {1 go 77 11 Google Inc.}
</span></span></span><span class="line"><span class="cl"><span class="cm">test s= {999 go 77 11 MountainView Google}
</span></span></span><span class="line"><span class="cl"><span class="cm">after called, main s= {999 go 77 11 MountainView Google}
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="68-带标签的结构体">6.8 带标签的结构体</h3>
<p>结构体中的字段除了有名字和类型外，还可以有一个可选的标签 <code>tag</code> 。它是一个附属于字段的字符串，可以是文档或其他的重要标记，只有 <code>reflect</code> 包能获取它。
调用 <code>reflect.TypeOf(variableName)</code> （参数是一个变量名）可以获取该变量的正确类型。
如果变量是一个结构体类型，就可以通过 <code>Field(int)</code> 来索引结构体中的字段，然后就可以使用 <code>Tag</code> 属性。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;reflect&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">TagType</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">field1</span> <span class="kt">bool</span>   <span class="s">&#34;An important answer&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">field2</span> <span class="kt">string</span> <span class="s">&#34;The name of the thing&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">field3</span> <span class="kt">int</span>    <span class="s">&#34;How much there are&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">refTag</span><span class="p">(</span><span class="nx">tt</span> <span class="nx">TagType</span><span class="p">,</span> <span class="nx">ix</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ttType</span> <span class="o">:=</span> <span class="nx">reflect</span><span class="p">.</span><span class="nf">TypeOf</span><span class="p">(</span><span class="nx">tt</span><span class="p">)</span> <span class="c1">//获取到变量的类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">ixField</span> <span class="o">:=</span> <span class="nx">ttType</span><span class="p">.</span><span class="nf">Field</span><span class="p">(</span><span class="nx">ix</span><span class="p">)</span> <span class="c1">//如果该变量的类型是结构体，那么才能去索引结构体中的字段
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%v\n&#34;</span><span class="p">,</span> <span class="nx">ixField</span><span class="p">.</span><span class="nx">Tag</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">tt</span> <span class="o">:=</span> <span class="nx">TagType</span><span class="p">{</span><span class="kc">true</span><span class="p">,</span> <span class="s">&#34;Golang&#34;</span><span class="p">,</span> <span class="mi">11</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nf">refTag</span><span class="p">(</span><span class="nx">tt</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">An important answer
</span></span></span><span class="line"><span class="cl"><span class="cm">The name of the thing
</span></span></span><span class="line"><span class="cl"><span class="cm">How much there are
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="七可见性">七、可见性</h2>
<p>要<strong>使某个符号对其他包可见（可以访问），需要大写该符号的首字母</strong>。
如果想使用别的包的变量、函数、结构体类型、结构体成员，这些符号的首字母必须大写！
<strong>如果是小写，只能在同一个包里使用</strong>！
注意：结构体变量名大写了，但里面的成员名没有大写，同样会导致其他包无法访问！
总结一句话：想要其他包访问到，首字母就大写！小写只能在同级包中可见！</p>
<h2 id="八关于-nil-的笔记">八、关于 <code>nil</code> 的笔记</h2>
<p><code>nil</code> 是 Golang 中的预定义标识符。用来表示：<code>map</code>、<code>slice</code>、<code>channel</code>、<code>function</code>、<code>interface</code>、<code>pointer</code> 的零值。</p>
<h3 id="81-未显示声明的数据类型不能使用-nil">8.1 未显示声明的数据类型，不能使用 <code>nil</code></h3>
<p>错误示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">x</span> <span class="p">=</span> <span class="kc">nil</span> <span class="c1">// use of untyped nil
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">_</span> <span class="p">=</span> <span class="nx">x</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这段代码在编译时就会错误：<code>use of untyped nil</code>。大意：使用无类型的 <code>nil</code>。
<code>nil</code> 用来表示 6 个引用类型的零值，有 6 个引用类型，编译器无法猜测这个 <code>nil</code> 到底表示哪一个数据类型。
所以，必须要显示声明具体的数据类型后，才能使用 <code>nil</code>。
正确示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// slice
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">sli</span> <span class="p">[]</span><span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sli</span> <span class="p">=</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">	<span class="nx">_</span> <span class="p">=</span> <span class="nx">sli</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// map
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">m</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span> <span class="p">=</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">	<span class="nx">_</span> <span class="p">=</span> <span class="nx">m</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// pointer
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">p</span> <span class="o">*</span><span class="kt">int</span> <span class="c1">// 指向 int 类型的指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">p</span> <span class="p">=</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">	<span class="nx">_</span> <span class="p">=</span> <span class="nx">p</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// channel
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">ch</span> <span class="kd">chan</span> <span class="kt">string</span> <span class="c1">// 一个传递 string 类型数据的通道
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">ch</span> <span class="p">=</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">	<span class="nx">_</span> <span class="p">=</span> <span class="nx">ch</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// function
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">f</span> <span class="kd">func</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="c1">// 声明一个函数，接收两个 int 类型的参数，并最终返回一个 int 类型的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">f</span> <span class="p">=</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">	<span class="nx">_</span> <span class="p">=</span> <span class="nx">f</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// interface
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">x</span> <span class="kd">interface</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">x</span> <span class="p">=</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">	<span class="nx">_</span> <span class="p">=</span> <span class="nx">x</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>能够通过编译，一点问题都没有。</p>
<h3 id="82-slice-和-map-为-nil-时各自的区别">8.2 <code>Slice</code> 和 <code>map</code> 为 <code>nil</code> 时，各自的区别</h3>
<h4 id="821-当-slice-为-nil-时">8.2.1 当 <code>Slice</code> 为 <code>nil</code> 时</h4>
<p>当一个切片为 <code>nil</code> 时，往切片中添加元素是没有任何问题的。
示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">s</span> <span class="p">[]</span><span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="p">=</span> <span class="kc">nil</span> <span class="c1">// 手动赋值了 nil，也不会影响接下来的元素添加操作
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">s</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="mi">111</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="mi">222</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;s =&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">s = [111 222]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>个人分析原因：切片是对底层数组的引用，当有元素往切片中添加时，首先会检查该切片的容量。如果容量不够，就会先去扩容底层数组，然后再对该底层数组进行引用。设置为 <code>nil</code> 只是表示不去引用底层数组，当有元素往切片中添加，那么切片就需要一个底层数组了，Go 内部会去自动引用一个底层数组。</p>
<h4 id="821-当-map-为-nil-时">8.2.1 当 <code>map</code> 为 <code>nil</code> 时</h4>
<p>当 <code>Slice</code> 为 <code>nil</code> 时，如果往 <code>map</code> 中添加元素，就会导致运行时的 <code>panic</code>。
错误示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">m</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">m</span><span class="p">[</span><span class="s">&#34;a&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;aaa&#34;</span> <span class="c1">// panic: assignment to entry in nil map
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m =&#34;</span><span class="p">,</span> <span class="nx">m</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="九小案例">九、小案例</h2>
<h3 id="例1生成随机数">例1，生成随机数</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;math/rand&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//1.设置种子
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">rand</span><span class="p">.</span><span class="nf">Seed</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">UnixNano</span><span class="p">())</span> <span class="c1">//种子参数写死的话，每次随机数都一样了。所以把当前时间转换成纳秒作为种子参数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//2.生成随机数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;rand a number:&#34;</span><span class="p">,</span> <span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span> <span class="c1">//限定100以内的整数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：
</span></span></span><span class="line"><span class="cl"><span class="cm">rand a number: 31
</span></span></span><span class="line"><span class="cl"><span class="cm">rand a number: 24
</span></span></span><span class="line"><span class="cl"><span class="cm">rand a number: 58
</span></span></span><span class="line"><span class="cl"><span class="cm">rand a number: 86
</span></span></span><span class="line"><span class="cl"><span class="cm">rand a number: 28
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="例2猜数字小游戏">例2，猜数字小游戏</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;math/rand&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//随机生成一个4位数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">InitSlice</span><span class="p">(</span><span class="nx">s</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">n</span> <span class="o">:=</span> <span class="nb">cap</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">rand</span><span class="p">.</span><span class="nf">Seed</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">UnixNano</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="c1">//第1位数字不能为0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="k">if</span> <span class="nx">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">r</span> <span class="o">:=</span> <span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="k">if</span> <span class="nx">r</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">					<span class="k">continue</span>
</span></span><span class="line"><span class="cl">				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">					<span class="nx">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="nx">r</span>
</span></span><span class="line"><span class="cl">					<span class="k">break</span>
</span></span><span class="line"><span class="cl">				<span class="p">}</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//获取输入的4位数的每一位数字
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">GetEveryNum</span><span class="p">(</span><span class="nx">guessSlice</span> <span class="p">[]</span><span class="kt">int</span><span class="p">,</span> <span class="nx">guessNum</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">guessSlice</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="nx">guessNum</span> <span class="o">/</span> <span class="mi">1000</span>
</span></span><span class="line"><span class="cl">	<span class="nx">guessSlice</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="nx">guessNum</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">%</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">	<span class="nx">guessSlice</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="nx">guessNum</span> <span class="o">/</span> <span class="mi">10</span> <span class="o">%</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">	<span class="nx">guessSlice</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">=</span> <span class="nx">guessNum</span> <span class="o">%</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">Guess</span><span class="p">(</span><span class="nx">s</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">n</span> <span class="o">:=</span> <span class="nb">cap</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">guessSlice</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="kd">var</span> <span class="nx">guessNum</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="c1">//校验输入的数字是否是一个4位正整数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="nx">guessNum</span> <span class="p">&lt;</span> <span class="mi">1000</span> <span class="o">||</span> <span class="nx">guessNum</span> <span class="p">&gt;</span> <span class="mi">9999</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;enter a guess number between 1000 and 9999:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="nx">fmt</span><span class="p">.</span><span class="nf">Scan</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">guessNum</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="k">break</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nf">GetEveryNum</span><span class="p">(</span><span class="nx">guessSlice</span><span class="p">,</span> <span class="nx">guessNum</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">right</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="nx">guessSlice</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">&lt;</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;position %d number is small\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="nx">guessSlice</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">&gt;</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;posistion %d number is big\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;position %d number is right\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="nx">right</span><span class="o">++</span> <span class="c1">//猜对1位就自加1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="c1">//4位全部猜对打印信息并退出循环
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="k">if</span> <span class="nx">right</span> <span class="o">==</span> <span class="nx">n</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;success.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="k">break</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">InitSlice</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">Guess</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;init s, s=&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">运行结果：enter a guess number between 1000 and 9999:1234
</span></span></span><span class="line"><span class="cl"><span class="cm">position 1 number is small
</span></span></span><span class="line"><span class="cl"><span class="cm">position 2 number is small
</span></span></span><span class="line"><span class="cl"><span class="cm">position 3 number is small
</span></span></span><span class="line"><span class="cl"><span class="cm">posistion 4 number is big
</span></span></span><span class="line"><span class="cl"><span class="cm">enter a guess number between 1000 and 9999:5555
</span></span></span><span class="line"><span class="cl"><span class="cm">position 1 number is small
</span></span></span><span class="line"><span class="cl"><span class="cm">position 2 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">position 3 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">posistion 4 number is big
</span></span></span><span class="line"><span class="cl"><span class="cm">enter a guess number between 1000 and 9999:6553
</span></span></span><span class="line"><span class="cl"><span class="cm">position 1 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">position 2 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">position 3 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">posistion 4 number is big
</span></span></span><span class="line"><span class="cl"><span class="cm">enter a guess number between 1000 and 9999:6551
</span></span></span><span class="line"><span class="cl"><span class="cm">position 1 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">position 2 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">position 3 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">posistion 4 number is big
</span></span></span><span class="line"><span class="cl"><span class="cm">enter a guess number between 1000 and 9999:6550
</span></span></span><span class="line"><span class="cl"><span class="cm">position 1 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">position 2 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">position 3 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">position 4 number is right
</span></span></span><span class="line"><span class="cl"><span class="cm">success.
</span></span></span><span class="line"><span class="cl"><span class="cm">init s, s= [6 5 5 0]
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/golang/">Golang</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/1ypylhrh/">
        
        
            <div class="article-image">
                
                    <img src="https://w.wallhaven.cc/full/2y/wallhaven-2y2or6.png" loading="lazy" data-key="1ypylhrh" data-hash="https://w.wallhaven.cc/full/2y/wallhaven-2y2or6.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Golang学习之并发编程</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/xb9uhh7c/">
        
        
            <div class="article-image">
                
                    <img src="https://w.wallhaven.cc/full/gp/wallhaven-gpd95q.png" loading="lazy" data-key="xb9uhh7c" data-hash="https://w.wallhaven.cc/full/gp/wallhaven-gpd95q.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Golang学习之异常与文本文件处理</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/giabprkd/">
        
        
            <div class="article-image">
                
                    <img src="https://w.wallhaven.cc/full/zy/wallhaven-zydldy.jpg" loading="lazy" data-key="giabprkd" data-hash="https://w.wallhaven.cc/full/zy/wallhaven-zydldy.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Golang学习之面向对象编程</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/gryrnn22/">
        
        
            <div class="article-image">
                
                    <img src="https://w.wallhaven.cc/full/d6/wallhaven-d6o97j.png" loading="lazy" data-key="gryrnn22" data-hash="https://w.wallhaven.cc/full/d6/wallhaven-d6o97j.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Golang学习之函数与工程管理</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/nn24jprl/">
        
        
            <div class="article-image">
                
                    <img src="https://w.wallhaven.cc/full/kx/wallhaven-kxdz96.jpg" loading="lazy" data-key="nn24jprl" data-hash="https://w.wallhaven.cc/full/kx/wallhaven-kxdz96.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Golang学习之基本类型与流程控制</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="360rce/blog-comment"
        issue-term="pathname"
        
        label="utterances"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    let utterancesLoaded = false;

    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;

        
        utterancesLoaded = true;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        if (!utterancesLoaded) return;
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2023 本博客所有文章除特别声明外，均采用 CC BY-SA 4.0 协议 ，转载请注明出处！
    </section>
    <i class="powerby">
    <span id="busuanzi_container_site_pv">
        访问量&nbsp;-&nbsp;<span id="busuanzi_value_site_pv"></span>
    </span>&nbsp;
    <span id="busuanzi_container_site_uv">
        访客数&nbsp;-&nbsp;<span id="busuanzi_value_site_uv"></span>人次
      </span>
    </i>


</footer>
<script>
    (function(u, c) {
      var d = document, t = 'script', o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function(e) { c(e); }); }
      s.parentNode.insertBefore(o, s);
    })('//cdn.bootcss.com/pangu/4.0.7/pangu.min.js', function() {
      pangu.spacingPage();
    });
</script>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>


    </body>
</html>
